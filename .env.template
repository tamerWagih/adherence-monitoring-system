# Adherence Monitoring System - Environment Configuration
# Copy this file to .env and update the values for your environment

# Application Settings
# For development: use NODE_ENV=development or NODE_ENV=development (allows permissive CORS)
# For production: use NODE_ENV=production (strict CORS)
# For development: use NODE_ENV=development (allows permissive CORS)
NODE_ENV=development
BACKEND_PORT=4001
FRONTEND_PORT=3001

# Database Configuration (VM 2 - Shared Database Server)
# Same database as people-ops-system
DATABASE_HOST=10.20.13.77
DATABASE_PORT=5432
DATABASE_NAME=people_ops_dev
DATABASE_USERNAME=people_ops
DATABASE_PASSWORD=${DATABASE_PASSWORD}

# Redis Configuration (VM 2 - Shared Redis Server)
# Used for BullMQ queue (event ingestion rate limiting)
REDIS_HOST=10.20.13.77
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_URL=redis://10.20.13.77:6379

# JWT Configuration (for Admin Frontend authentication)
JWT_SECRET=${JWT_SECRET}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# CORS Configuration
# For development: Backend allows all origins when NODE_ENV=development or development
# For production: Set specific allowed origins
# Examples:
#   CORS_ORIGIN=http://10.20.13.80
#   CORS_ORIGIN=http://adherence-staging.octopusoutsourcing.com
#   CORS_ORIGIN=https://adherence.octopusoutsourcing.com
CORS_ORIGIN=http://APP_VM_IP
CORS_CREDENTIALS=true

# API Configuration
API_PREFIX=/api/adherence

# Logging
LOG_LEVEL=info
DEBUG=false

# Rate Limiting (for Desktop Agent event ingestion)
RATE_LIMIT_PER_WORKSTATION=10  # requests per minute per workstation
RATE_LIMIT_GLOBAL=1000         # requests per minute global

# BullMQ Queue Configuration
QUEUE_NAME=adherence-events
QUEUE_CONCURRENCY=5            # Number of concurrent event processing jobs

# Frontend Environment Variables
NEXT_PUBLIC_API_URL=http://APP_VM_IP/api/adherence
NEXT_PUBLIC_APP_NAME=Adherence Monitoring System
NEXT_PUBLIC_APP_VERSION=1.0.0
